<html>

  <head>
    <title>DonWeb</title>
    <meta charset="utf-8" />
    <link rel="shortcut icon" type="image/png" href="images/favicon.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" href="stylesheets/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="javascripts/angular-ui-bootstrap/dist/ui-bootstrap-csp.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
      crossorigin="anonymous">
      <link href="https://fonts.googleapis.com/css?family=Krub|Lobster" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/style.css">

  </head>

  <body ng-app="app">
    <div ng-controller="Usuarios as $ctrl" class="container-fluid modal-demo">
      <div class="titulo">
        <h1>Usuarios</h1>
      </div>
        <div>
          <div class="btn-group btn-group-lg " uib-dropdown is-open="status.isopen">
            <button id="single-button" type="button" class="btn btn-outline-primary" uib-dropdown-toggle ng-disabled="disabled">
                Ordenado por: {{choice.desc}}
              <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
              <li ng-repeat="choice in items" ng-click="selectOption(choice)">
                <a href>{{choice.desc}}</a>
              </li>
            </ul>
          </div>
      </div>
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Nombre y Apellido</th>
              <th>Telefono</th>
              <th>Ver Detalle</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="usuario in ListadoUsuarios | orderBy: choice.key">
              <td>{{usuario.firstName}}, {{usuario.lastName}}</td>
              <td>{{usuario.phone}}</td>
              <td><a ng-click="MostrarDetalles(usuario)"  href="#"><i class="fas fa-id-card fa-2x"></i></a></td>
            </tr>
          </tbody>
          <tfoot>

          </tfoot>
        </table>
      </div>
      <div class="modal fade" id='detalles' tabindex="-1" role="dialog" aria-labelledby="detallesLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="detallesLabel">{{usuarioSeleccionado.firstName + ' ' + usuarioSeleccionado.lastName}}
                      <small class="text-muted">{{usuarioSeleccionado.age}}</small>
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <div class="col "><strong>Email: </strong>{{usuarioSeleccionado.email}}</div>
                      <div class="col"><strong>Tel: </strong>{{usuarioSeleccionado.phone}}</div>
                    </div>
                    <div class="row">
                      <div class="col"><strong>Dirección: </strong>{{usuarioSeleccionado.address}}</div>
                    </div>
                    <div class="row">
                      <div class="col"><strong>Registración: </strong> {{usuarioSeleccionado.registered}}</div>
                      <div class="col"><strong>Balance: </strong>{{usuarioSeleccionado.balance}}</div>
                    </div>
                    <div ng-if="usuarioSeleccionado.products.length >= 1">
                      <table class="table table-sm">
                        <thead>
                          <tr>
                            <th>Nombre</th>
                            <th>Precio</th>
                            <th>Fecha Vencimiento</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="producto in usuarioSeleccionado.products">
                            <td>{{producto.name}}</td>
                            <td>{{producto.price}}</td>
                            <td>{{producto.expirationDate}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal">Cerrar</button>
                  </div>
            </div>
          </div>
        </div>
    </div>


  </body>
  <script src="javascripts/jquery/dist/jquery.js"></script>
  <script src="stylesheets/bootstrap/dist/js/bootstrap.js"></script>
  <script src="javascripts/angular.js"></script>
  <script src="javascripts/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>
  <script src="//unpkg.com/angular-animate/angular-animate.js"></script>
  <script src="//unpkg.com/angular-sanitize/angular-sanitize.js"></script>
  <script src="javascripts/ngmodule.js"></script>

</html>